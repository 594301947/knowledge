# STL

### map和unordered_map的底层实现

map底层是基于红黑树实现的，因此map内部元素排列是有序的。而unordered_map底层则是基于哈希表实现的，因此其元素的排列顺序是杂乱无序的。

### map和unordered_map优点和缺点

对于map，其底层是基于红黑树实现的

+ 优点如下：
  + 有序性，这是map结构最大的优点，其元素的有序性在很多应用中都会简化很多的操作
  + map的查找、删除、增加等一系列操作时间复杂度稳定，都为logn

+ 缺点如下：
  + 查找、删除、增加等操作平均时间复杂度较慢，与n相关

对于unordered_map来说，其底层是一个哈希表

+ 优点如下：
  + 查找、删除、添加的速度快，时间复杂度为常数级O(c)

+ 缺点如下：
  + 因为unordered_map内部基于哈希表，以（key,value）对的形式存储，因此空间占用率高
  + Unordered_map的查找、删除、添加的时间复杂度不稳定，平均为O(c)，取决于哈希函数。极端情况下可能为O(n)



# 虚拟地址

### 栈和堆的区别，以及为什么栈要快

+ 堆和栈的区别：
  + 堆是由低地址向高地址扩展；栈是由高地址向低地址扩展
  + 堆中的内存需要手动申请和手动释放；栈中内存是由OS自动申请和自动释放，存放着参数、局部变量等内存
  + 堆中频繁调用malloc和free,会产生内存碎片，降低程序效率；而栈由于其先进后出的特性，不会产生内存碎片
  + 堆的分配效率较低，而栈的分配效率较高

+ 栈的效率高的原因：栈是操作系统提供的数据结构，计算机底层对栈提供了一系列支持：分配专门的寄存器存储栈的地址，压栈和入栈有专门的指令执行；而堆是由C/C++函数库提供的，机制复杂，需要一些列分配内存、合并内存和释放内存的算法，因此效率较低。